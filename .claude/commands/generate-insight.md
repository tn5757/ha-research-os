# Generate Research Insight

01_insight-sources/ の素材を読み込み、00_canon/ の方向性と 02_insights/concepts/ の既存知見に照らして研究インサイトを蒸留し、02_insights/concepts/ に記録する。

## 使用方法

引数: `$ARGUMENTS`

**形式**: `<ソースパス> [検証対象...]`

- **ソースパス**（必須）: `01_insight-sources/` 配下の相対パス（ファイルまたはフォルダ）
- **検証対象**（任意）: canonのどの領域と照合するか

### 検証対象オプション

| オプション | 照合先 |
|---|---|
| `--question` | `00_canon/core-question.md` |
| `--stance` | `00_canon/stance.md` |
| `--positioning` | `00_canon/positioning.md` |
| `--vision` | `00_canon/vision.md` |

指定なしの場合は全領域を対象とする。

### 使用例

```
/generate-insight literature/sato-2020-inquiry-based-learning.md
```
→ 単一の文献メモからインサイトを抽出

```
/generate-insight web-research/ --positioning
```
→ web-research結果全体からポジショニングに関するインサイトを抽出

## 実行手順

### 1. canonの読み込み
00_canon/ の全ファイルを読み込み、研究の方向性を把握する。

### 2. 既存conceptsの読み込み
02_insights/concepts/ の全ファイルを読み込み、「これまでにわかっていること」を把握する。
- 既存conceptsがない場合はスキップ（初回生成時）

### 3. ソースの読み込み
指定されたパスのファイルを読み込む。
- ファイル指定 → そのファイルを処理
- フォルダ指定 → フォルダ内の全ファイルを処理

### 4. インサイトの抽出

ソースの内容を **canon（研究の方向性）** と **既存concepts（これまでの知見）** の両方に照らして分析する。

#### 4a. canonとの照合

| シグナル | 説明 | 例 |
|---|---|---|
| **支持** | canonの問いや立場を裏付ける知見 | 「この先行研究はcore-questionの重要性を支持している」 |
| **矛盾** | canonの前提と食い違う情報 | 「この実証結果はstanceの前提と矛盾する」 |
| **空白** | 先行研究が見落としている領域 | 「この観点は誰も検討していない → positioningの根拠になる」 |
| **接続** | 異なるソース間の意外なつながり | 「AとBの知見を組み合わせると新しい概念が見える」 |

#### 4b. 既存conceptsとの照合

既存の概念群に対して、今回のソースがどのような「差分」をもたらすかを特定する。

| 差分の種類 | 説明 | 例 |
|---|---|---|
| **補強** | 既存conceptを別の角度から裏付ける | 「概念Aの主張が、異なる文脈でも成立することが確認された」 |
| **修正** | 既存conceptの範囲や条件を限定・拡張する | 「概念Aは条件Xのもとでのみ成立する可能性がある」 |
| **対立** | 既存conceptと正面から食い違う | 「ソースの知見は概念Aの前提を覆す」 |
| **拡張** | 既存conceptにない新しい観点を追加する | 「概念Aに加えて、これまで見えていなかった次元Bが存在する」 |
| **新規** | 既存のどのconceptにも該当しない発見 | 「まったく新しい概念が浮上した」 |

### 5. 研究のヒントの導出

4a・4bの分析結果から、「次に何を問うべきか」を研究のヒントとして導出する。

**導出の考え方：**
- **補強** → その概念の適用範囲や限界条件を問う
- **修正** → 条件の違いが何によって生じるのかを問う
- **対立** → どちらが妥当か、あるいはどんな条件で分岐するかを問う
- **拡張** → 新しい次元と既存概念の関係を問う
- **新規** → その概念の定義・範囲・メカニズムを問う

研究のヒントは、generate-research-question がRQに精緻化できる程度の具体性を持たせる。

### 6. 02_insights/concepts/ への記録

以下のフォーマットで `02_insights/concepts/{YYYY-MM-DD}_{概念名}.md` に保存する：

```markdown
# {概念名・インサイトタイトル}

- **生成日**: {YYYY-MM-DD}
- **ソース**: {ソースファイルパス}
- **関連するcanon**: {core-question / stance / positioning / vision}

## 発見

{何が分かったか。ソースからの具体的な根拠を含める}

## 既存知見との関係

{既存conceptsとの差分。どの概念に対して、どのような差分（補強/修正/対立/拡張/新規）があるか}
{既存conceptsがない場合は「初期概念として記録」と記載}

## 研究のヒント

{この差分から浮かび上がる、次に問うべきこと。具体的なRQの種になるアイディア}

- **示唆されるRQの方向**: {記述型 / 関係型 / 因果型 / プロセス型}
- **問いの素描**: {「〇〇は△△にどう影響するか」のような、RQの原型}

## 次のアクション

- [ ] {追加で読むべき文献、検証すべき仮説、深掘りすべき概念}
```

### 7. 完了報告

以下を出力する：
- 処理したソースファイル数
- 抽出したインサイト数と概要
- 既存conceptsとの関係の要約（どの概念に対してどんな差分があったか）
- 研究のヒントの一覧
- canonへのフィードバック（前提の修正が必要な場合）
